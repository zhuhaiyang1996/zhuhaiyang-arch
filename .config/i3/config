###############################################################################
#My setting

# font for window titles and bar
font pango:UbuntuMono Nerd Font Mono 10

new_window pixel

# define names for workspaces
# ä¸ºå·¥ä½œç©ºé—´å®šä¹‰åç§°
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace
# åˆ‡æ¢åˆ°å·¥ä½œåŒº
bindsym $mod+1 workspace number $ws1, exec --no-startup-id alacritty
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10


## åˆ‡æ¢å½“å‰è½¯ä»¶åˆ°å·¥ä½œåŒº
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10


# => æ–°å»ºçª—å£çš„åˆ†å‰²æ–¹å‘
bindsym $mod+h split h
bindsym $mod+v split v

# => ç§»åŠ¨çª—å£
## Modify // Window Position // <ï…º><Shift> â†‘ â†“ â† â†’ ##
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# => å¸ƒå±€åˆ‡æ¢
# åˆ‡æ¢åˆ°å †å å¸ƒå±€
# bindsym $mod+z layout stacking
# åˆ‡æ¢åˆ°æ ‡ç­¾å¸ƒå±€
# bindsym $mod+x layout tabbed
# åˆ‡æ¢åˆ°å¹³é“ºå¸ƒå±€ï¼ˆç«–ç›´/æ°´å¹³ï¼‰
# bindsym $mod+c layout toggle split
# åœ¨æ‰€æœ‰å¸ƒå±€ä¸­è½®å›åˆ‡æ¢
bindsym $mod+x layout toggle all
# çª—å£åˆ‡æ¢åˆ°å…¨å±
bindsym $mod+f fullscreen toggle
# çª—å£åˆ‡æ¢åˆ°æµ®åŠ¨
bindsym $mod+Shift+f floating toggle
# çª—å£åˆ‡æ¢ä¸ºç²˜æ»
bindsym $mod+g sticky toggle


# => æš‚å­˜çª—å£ï¼ˆé¢å¤–çš„å¯éšè—æµ®åŠ¨çª—å£ï¼Œå–æ¶ˆæµ®åŠ¨è¿˜åŸæˆæ™®é€šçª—å£ï¼‰
# å‘¼å‡º/éšè—æš‚å­˜çª—å£
bindsym $mod+Ctrl+a scratchpad show
# è½¬æ¢æ™®é€šçª—å£ä¸ºæš‚å­˜çª—å£
bindsym $mod+Ctrl+m move to scratchpad

# => ç”µæºç®¡ç†ï¼ˆPause Breaké”®å‘¼å‡º)
set $mode_system ç³»ç»Ÿ:é”å±(L) æ³¨é”€(O) å…³æœº(S) é‡å¯(R) å–æ¶ˆ(Esc)
bindsym Pause mode "$mode_system"
mode "$mode_system" {
    bindsym l exec "betterlockscreen -l blur u ~/Pictures/Wallpapers"
    bindsym o exec i3-msg exit
    bindsym s exec systemctl poweroff
    bindsym r exec systemctl reboot
    bindsym Escape mode "default"
}

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

## Resize // Enter Resize Mode // <ï…º> r ##
##è¿›å…¥è°ƒæ•´ç•Œé¢å¤§å°æ¨¡å¼
mode "Resize Mode" {
        # These bindings trigger as soon as you enter the resize mode

        ## Resize // Resize Window // â†‘ â†“ â† â†’ ##
        bindsym Left resize shrink width 6 px or 6 ppt
        bindsym Down resize grow height 6 px or 6 ppt
        bindsym Up resize shrink height 6 px or 6 ppt
        bindsym Right resize grow width 6 px or 6 ppt

        bindsym Shift+Left resize shrink width 12 px or 12 ppt
        bindsym Shift+Down resize grow height 12 px or 12 ppt
        bindsym Shift+Up resize shrink height 12 px or 12 ppt
        bindsym Shift+Right resize grow width 12 px or 12 ppt

        ## Resize // Resize Window // k j h l ##
        bindsym h resize shrink width 6 px or 6 ppt
        bindsym k resize grow height 6 px or 6 ppt
        bindsym j resize shrink height 6 px or 6 ppt
        bindsym l resize grow width 6 px or 6 ppt

        bindsym Shift+h resize shrink width 12 px or 12 ppt
        bindsym Shift+k resize grow height 12 px or 12 ppt
        bindsym Shift+j resize shrink height 12 px or 12 ppt
        bindsym Shift+l resize grow width 12 px or 12 ppt

        ## Resize // Window Gaps // + - ##
        bindsym minus gaps inner current minus 6
        bindsym plus gaps inner current plus 6
        bindsym Shift+minus gaps inner current minus 12
        bindsym Shift+plus gaps inner current plus 12

        ## Resize // Exit Resize Mode // Escape or Enter ## 
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}
bindsym $mod+r mode "Resize Mode"

###############################################################################
# Session Management
## Session // Exit App(é€€å‡ºåº”ç”¨ç¨‹åº) // <ï…º><Shift> q ##
bindsym $mod+Shift+q kill

## Session // Reload i3 Config(é‡æ–°åŠ è½½i3é…ç½®) // <ï…º><Shift> c ##
bindsym $mod+Shift+c reload

## Session // Restart i3 // <ï…º><Ctrl> r ##
bindsym $mod+Ctrl+r restart

# assign program to workspace
assign [class="Alacritty"]          â†’ $ws1
assign [class="terminal"]           â†’ $ws1
assign [class="Sublime"]            â†’ $ws2
assign [class="Chromium"]           â†’ $ws3
assign [class="Firefox"]            â†’ $ws3
assign [class="File-roller"]        â†’ $ws4
assign [class="Pcmanfm"]            â†’ $ws4
assign [class="Evince"]             â†’ $ws5
assign [class="ghostwriter"]        â†’ $ws5
assign [class="libreoffice"]        â†’ $ws5
assign [class="Audacious"]          â†’ $ws6
assign [class="vlc"]                â†’ $ws6
assign [class="Gimp"]               â†’ $ws7
assign [class="Inkscape"]           â†’ $ws7
assign [class="Hexchat"]            â†’ $ws8
assign [class="Telegram"]           â†’ $ws8
assign [class="Upwork"]             â†’ $ws8
assign [class="Galculator"]         â†’ $ws9
assign [class="Gnome-font-viewer"]  â†’ $ws9
assign [class="Go-for-it"]          â†’ $ws9
assign [class="Gucharmap"]          â†’ $ws9
assign [class="KeePassXC"]          â†’ $ws9
assign [class="Transmission-gtk"]   â†’ $ws9
assign [class="Bleachbit"]          â†’ $ws10

###############################################################################

## Modify // Settings // <ï…º> c ##
bindsym $mod+c exec gnome-control-center

## Modify // Wifi Settings // <ï…º> w ##
bindsym $mod+w exec gnome-control-center wifi

## Modify // Bluetooth Settings // <ï…º> b ##
bindsym $mod+b exec gnome-control-center bluetooth

## Launch // File Browser // <ï…º><Shift> n ##
bindsym $mod+Shift+n exec nemo

## Launch // Terminal // <Super> Enter ##
bindsym $mod+Return exec alacritty

# Launch // VSCode
bindsym $mod+Shift+v exec code-insiders

# Launch // typora
bindsym $mod+Shift+m exec typora

## Launch // Browser // <ï…º><Shift> Enter ##
bindsym $mod+Shift+Return exec microsoft-edge-dev

# start rofi  Launch // Application // <ï…º> Space ##
bindsym $mod+space exec --no-startup-id zsh -c "rofi -show drun -theme oxide"

bindsym $mod+Tab exec --no-startup-id rofi -show window -theme oxide


###############################################################################

## Modify // Containing Workspace // <ï…º><Ctrl><Shift> â†‘ â†“ â† â†’ ##
bindsym $mod+Ctrl+Shift+Left move workspace to output left
bindsym $mod+Ctrl+Shift+Down move workspace to output down
bindsym $mod+Ctrl+Shift+Up move workspace to output up
bindsym $mod+Ctrl+Shift+Right move workspace to output right

## Modify // Next Window Orientation // <ï…º> Backspace ##
bindsym $mod+BackSpace split toggle

## Modify // Tile/Float Focus Toggle // <ï…º><Shift> t ##
bindsym $mod+Shift+t focus mode_toggle

## Modify // Window Layout Mode // <ï…º> t ##
bindsym $mod+t layout toggle tabbed splith splitv

## Navigate // Relative Window // <ï…º> â†‘ â†“ â† â†’ ##
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right


## Navigate // Next Workspace // <ï…º><Alt> â†’ ##
bindsym $mod+$alt+Right workspace next

## Navigate // Previous Workspace // <ï…º><Shift> Tab ##
bindsym $mod+Shift+Tab workspace prev

## Navigate // Previous Workspace // <ï…º><Alt> â† ##
bindsym $mod+$alt+Left workspace prev


# startup applications
#è®¾ç½®å£çº¸
exec_always --no-startup-id feh --bg-fill ~/.config/Dotfile/Wallpapers/05.jpg

exec_always --no-startup-id xrandr --output Virtual-1 --mode "1366x768"  
#å¯åŠ¨picom(å®ç°èƒŒæ™¯é€æ˜)
exec_always --no-startup-id picom

###############################################################################
# Meta Key Mappings
# Alt key is Mod1, and Windows key is Mod4
###############################################################################

set $mod Mod4
set $alt Mod1

###############################################################################
# Workspace Management
###############################################################################
# Toggle bar visibility
#éš±è— bar
## Modify // Toggle Bar // <ï…º> i ##
bindsym $mod+i bar mode toggle

# Cause Settings app to float above tiled windows
floating_maximum_size -1 x -1
for_window [class="Gnome-control-center"] floating enable

# window border settings
# æ¡Œé¢è¾¹æ¡†è®¾ç½®
# => çª—å£è¾¹æ¡†ç±»å‹ï¼ˆè¾¹æ¡†ç±»å‹æœ‰normalæ­£å¸¸/noneæ— è¾¹æ¡†/pixel 1 è‡ªå®šä¹‰å®½åº¦ï¼‰
# é»˜è®¤æ™®é€šçª—å£çš„è¾¹æ¡†ç±»å‹
new_window pixel     2

# å–æ¶ˆå·¥ä½œåŒºè¾¹ç¼˜çš„è¾¹æ¡†
hide_edge_borders both

# åœ¨ä¸‰ç§è¾¹æ¡†ç±»å‹ä¸­åˆ‡æ¢
# shortcut to change window border
bindsym $mod+n border normal    0
bindsym $mod+y border pixel     1
bindsym $mod+u border none


# betterlockscreen
bindsym $mod+Shift+p exec betterlockscreen -l blur u ~/Pictures/Wallpapers
exec_always --no-startup-id betterlockscreen -w dim u ~/Pictures/Wallpapers

# run polybar 
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

# i3-gaps
# i3-gaps é—´éš™è®¾ç½®
smart_gaps on
gaps inner 4
gaps outer 2


bindsym $mod+Shift+e exec --no-startup-id i3-nagbar -t warning -f "pango:UbuntuMono Nerd Font Mono 10" -m "Do you really want to exit?" -B "  ï‚‹  Exit " "i3-msg exit" -B "  ï€£  Lock " "betterlockscreen -l blur && pkill i3-nagbar" -B "  ï€  Reboot " "pkill i3-nagbar && reboot" -B "  ï€‘  Shutdown " "pkill i3-nagbar && shutdown -h now"

# çª—å£é¢œè‰²                è¾¹æ¡†    èƒŒæ™¯    æ–‡å­—    æç¤º
client.focused          #333333 #333333 #FFFFFF #333333
client.focused_inactive #999999 #999999 #FFFFFF #3399FF
client.unfocused        #999999 #999999 #FFFFFF #3399FF
client.urgent           #990000 #990000 #FFFFFF #990000
client.placeholder      #000000 #000000 #FFFFFF #000000
client.background       #FFFFFF

#Attach to a running tmux session or create a new one. Since this script starts a new #terminal it can also been used with a keybinding from your favorite window-manager.
#bindsym $mod+p exec --no-startup-id ~/.config/rofi/scripts/tmux_session.sh

bindsym $mod+p exec --no-startup-id ~/.config/rofi/scripts/finder.sh

#éŸ³é‡è°ƒèŠ‚ pip install pulsemixer
bindsym $mod+plus		    exec --no-startup-id pulsemixer --change-volume +5 && pkill -RTMIN+10 i3blocks
bindsym $mod+Shift+plus		exec --no-startup-id pulsemixer --change-volume +20 && pkill -RTMIN+10 i3blocks
bindsym $mod+minus 		    exec --no-startup-id pulsemixer --change-volume -5 && pkill -RTMIN+10 i3blocks
bindsym $mod+Shift+minus	exec --no-startup-id  pulsemixer --change-volume -15 && pkill -RTMIN+10 i3blocks

#éŸ³ä¹mpdï¼Œmpc
bindsym $mod+less 		    exec --no-startup-id mpc prev
bindsym $mod+Shift+less		exec --no-startup-id mpc seek 0%
bindsym $mod+greater		exec --no-startup-id mpc next
bindsym $mod+Shift+greater	exec --no-startup-id mpc next
# For advancing forward/backward in an mpd song
bindsym $mod+bracketleft 	    exec --no-startup-id mpc seek -10
bindsym $mod+Shift+bracketleft 	exec --no-startup-id mpc seek -120
bindsym $mod+bracketright 	    exec --no-startup-id mpc seek +10
bindsym $mod+Shift+bracketright exec --no-startup-id mpc seek +120

# For screenshots and recording
#æˆªå›¾
bindsym Print 			    exec flameshot gui

# Show selection:
bindsym $mod+Insert		exec --no-startup-id notify-send "ğŸ“‹ Clipboard contents:" "$(xclip -o -selection clipboard)"

#STOP/HIDE EVERYTHING:
bindsym $mod+Shift+Delete	exec --no-startup-id pulsemixer --mute ; exec --no-startup-id mpc pause && pkill -RTMIN+10 i3blocks ; exec --no-startup-id pauseallmpv; workspace 0; exec $term -e htop ; exec $term -e lf

